<module>
	<rawname>core</rawname>
	<repo>standard</repo>
	<category>Applications</category>
	<name>Core</name>
	<version>16.0.44</version>
	<publisher>Sangoma Technologies Corporation</publisher>
	<license>GPLv3+</license>
	<licenselink>http://www.gnu.org/licenses/gpl-3.0.txt</licenselink>
	<candisable>no</candisable>
	<canuninstall>no</canuninstall>
	<changelog>
		*16.0.44* Added hidding of trunks on core destinations when routedisplay is off 
		*16.0.43* FREEI-3039 
		*16.0.42* Packaging of ver 16.0.42
		*16.0.41* FREEPBX-22337 Restore fails on trunks 
		*16.0.40* FREEI-2762 974250 - PJSIP - Set Auth User Name 
		*16.0.39* FREEPBX-22331 Backup and Restore Module does not restore trunks and outbound routes 
		*16.0.38* FREEI-2762 Ticket#974250 - PJSIP - Set Auth User Name 
		*16.0.37* Add ability to hide trunks in routes ui 
		*16.0.36* FREEI-2848 core with outbound CID 
		*16.0.35* FREEI-2828 GraphQL server error on query allInboundRoutes 
		*16.0.34* FREEI-2738  PBX does not forward the original callerID to a misc destination 
		*16.0.33* Fixes FREEPBX-20269 
		*16.0.32* FREEI-2765 array_product() expects parameter 1 to be array, object given 
		*16.0.31* FREEPBX-22130 SIP to PJSIP conversion tool needs a couple of bugs fixed 
		*16.0.30* FREEI-2629 updated issue fixed 
		*16.0.29* FREEPBX-22068 UCP Allowing access to extensions edit allow create new extensions 
		*16.0.28* FREEPBX-21971 Deleting an Outbound Route does not delete related database records 
		*16.0.27* FREEPBX-21970 taskprocessor_overload_trigger=pjsip_only in pjsip.conf 
		*16.0.26* FREEPBX-21996 Undefined variable: extension 
		*16.0.25* Api device query return an unwanted ID , And it suppose to take the input var Device_Id 
		*16.0.24* FREEPBX-21952 Update comment note for from-pstn-custom 
		*16.0.23* FREEPBX-21978 Undefined index "callwaiting" 
		*16.0.22* typo error 
		*16.0.21* FREEI-2276  extension APIs 
		*16.0.20* Fixing FREEI-2137 displaying only  pjsip extensions during basic mode 
		*16.0.19* FREEI-2157 warm spare backup exclude trunks should exclude outbound route 
		*16.0.18* FREEI-1977 Importing Extensions causes calls to no longer ring on Zulu 
		*16.0.17* FREEI-2013 Not all extension data imported and applied on a 15 restore 
		*16.0.16* Fixing FREEI-2095 Adding API call to Commercial Endpoint Manager(if 
		*16.0.15* FREEPBX-21736 Fixing - Backup&amp;amp;Restore : all astdb variables are not getting restored 
		*16.0.14* FREEI-2058 COS not working after restoring the legacy backup on Freepbx 15 
		*16.0.13* FREEI-1964 making PJSIP extension's rewrite_contact 'yes' 
		*16.0.12* FREEPBX-21732 Execute notification email before dial on pattern match 
		*16.0.11* FREEPBX-21603 Unable to dial LOCAL/XX from TAPI since FreePBX 15 
		*16.0.10* Resolve FREEPBX-21582 conflict 
		*16.0.9* FREEPBX-21582 Custom device caller ID broken 
		*16.0.8* FREEPBX-21582 Custom device caller ID broken 
		*16.0.7* FREEI-1481 Outbound Routes - move paging Notifications setting to the new tab 
		*16.0.6* Fixing FREEI-1617 Keeping auto reload only for commercial deployments 
		*16.0.5* FREEI-1468 if default_user is coming blank, it should be equal to user 
		*16.0.4* Fixe back slash 
		*16.0.3* FREEI-21449 : taking line parameter with endpoint field. 
		*16.0.2* FREEI-1180 Fixes issue with contact_user not being added to PJSIP trunk endpoints. 
		*16.0.1alpha1* Inital Release
	</changelog>
	<depends>
		<version>15.0.8.1</version>
		<module>framework ge 15.0.16.40</module>
	</depends>
	<database>
		<table name="trunks">
			<field name="trunkid" type="integer" default="0" primaryKey="true"/>
			<field name="name" type="string" length="50" default=""/>
			<field name="tech" type="string" length="20" primaryKey="true"/>
			<field name="outcid" type="string" length="40" default=""/>
			<field name="keepcid" type="string" length="4" default="off" notnull="false"/>
			<field name="maxchans" type="string" length="6" default="" notnull="false"/>
			<field name="failscript" type="string" length="255" default=""/>
			<field name="dialoutprefix" type="string" length="255" default=""/>
			<field name="channelid" type="string" length="190" default="" primaryKey="true"/>
			<field name="usercontext" type="string" length="255" notnull="false"/>
			<field name="provider" type="string" length="40" notnull="false"/>
			<field name="disabled" type="string" length="4" default="off" notnull="false"/>
			<field name="continue" type="string" length="4" default="off" notnull="false"/>
			<field name="routedisplay" type="string" length="4" default="on" notnull="false"/>
		</table>
		<table name="pjsip">
			<field name="id" type="string" length="20" default="-1" primaryKey="true"/>
			<field name="keyword" type="string" length="30" default="" primaryKey="true"/>
			<field name="data" type="string" length="255"/>
			<field name="flags" type="integer" default="0"/>
		</table>
		<table name="sip">
			<field name="id" type="string" length="20" default="-1" primaryKey="true"/>
			<field name="keyword" type="string" length="30" default="" primaryKey="true"/>
			<field name="data" type="string" length="255"/>
			<field name="flags" type="integer" default="0"/>
		</table>
		<table name="dahdi">
			<field name="id" type="string" length="20" default="-1" primaryKey="true"/>
			<field name="keyword" type="string" length="30" default="" primaryKey="true"/>
			<field name="data" type="string" length="255" default=""/>
			<field name="flags" type="integer" default="0"/>
		</table>
		<table name="iax">
			<field name="id" type="string" length="20" default="-1" primaryKey="true"/>
			<field name="keyword" type="string" length="30" default="" primaryKey="true"/>
			<field name="data" type="string" length="255"/>
			<field name="flags" type="integer" default="0"/>
		</table>
		<table name="indications_zonelist">
			<field name="name" type="string" length="80"/>
			<field name="iso" type="string" length="20" primaryKey="true"/>
			<field name="conf" type="blob" notnull="false"/>
		</table>
		<table name="devices">
			<field name="id" type="string" length="20" default=""/>
			<field name="tech" type="string" length="10" default=""/>
			<field name="dial" type="string" length="255" default=""/>
			<field name="devicetype" type="string" length="5" default=""/>
			<field name="user" type="string" length="50" notnull="false"/>
			<field name="description" type="string" length="50" notnull="false"/>
			<field name="emergency_cid" type="string" length="100" notnull="false"/>
			<field name="hint_override" type="string" length="100" notnull="false"/>
			<key name="id" type="index">
				<column name="id"/>
			</key>
			<key name="tech" type="index">
				<column name="tech"/>
			</key>
		</table>
		<table name="users">
			<field name="extension" type="string" length="20" default=""/>
			<field name="password" type="string" length="20" notnull="false"/>
			<field name="name" type="string" length="50" notnull="false"/>
			<field name="voicemail" type="string" length="50" notnull="false"/>
			<field name="ringtimer" type="integer" notnull="false"/>
			<field name="noanswer" type="string" length="100" notnull="false"/>
			<field name="recording" type="string" length="50" notnull="false"/>
			<field name="outboundcid" type="string" length="50" notnull="false"/>
			<field name="sipname" type="string" length="50" notnull="false"/>
			<field name="noanswer_cid" type="string" length="20" default=""/>
			<field name="busy_cid" type="string" length="20" default=""/>
			<field name="chanunavail_cid" type="string" length="20" default=""/>
			<field name="noanswer_dest" type="string" length="255" default=""/>
			<field name="busy_dest" type="string" length="255" default=""/>
			<field name="chanunavail_dest" type="string" length="255" default=""/>
			<field name="mohclass" type="string" length="80" default="default" notnull="false"/>
			<key name="extension" type="index">
				<column name="extension"/>
			</key>
		</table>
		<table name="incoming">
			<field name="cidnum" type="string" length="20" notnull="false"/>
			<field name="extension" type="string" length="50"/>
			<field name="destination" type="string" length="50" notnull="false"/>
			<field name="privacyman" type="boolean" notnull="false"/>
			<field name="alertinfo" type="string" length="255" notnull="false"/>
			<field name="ringing" type="string" length="20" notnull="false"/>
			<field name="fanswer" type="string" length="20" notnull="false"/>
			<field name="mohclass" type="string" length="80" default="default"/>
			<field name="description" type="string" length="80" notnull="false"/>
			<field name="grppre" type="string" length="80" notnull="false"/>
			<field name="delay_answer" type="integer" notnull="false"/>
			<field name="pricid" type="string" length="20" notnull="false"/>
			<field name="pmmaxretries" type="string" length="2" notnull="false"/>
			<field name="pmminlength" type="string" length="2" notnull="false"/>
			<field name="reversal" type="string" length="10" notnull="false"/>
			<field name="rvolume" type="string" length="2" default="" notnull="false"/>
			<field name="indication_zone" type="string" length="20" default="default" notnull="false"/>
		</table>
		<table name="dahdichandids">
			<field name="channel" type="integer" default="0" primaryKey="true"/>
			<field name="description" type="string" length="40" default=""/>
			<field name="did" type="string" length="60" default=""/>
		</table>
		<table name="outbound_route_patterns">
			<field name="route_id" type="integer" primarykey="true"/>
			<field name="match_pattern_prefix" type="string" length="60" default="" primarykey="true"/>
			<field name="match_pattern_pass" type="string" length="60" default="" primarykey="true"/>
			<field name="match_cid" type="string" length="60" default="" primarykey="true"/>
			<field name="prepend_digits" type="string" length="100" default="" primarykey="true"/>
		</table>
		<table name="outbound_route_sequence">
			<field name="route_id" type="integer" primarykey="true"/>
			<field name="seq" type="integer" primarykey="true"/>
		</table>
		<table name="outbound_route_trunks">
			<field name="route_id" type="integer" primarykey="true"/>
			<field name="trunk_id" type="integer" primarykey="true"/>
			<field name="seq" type="integer" primarykey="true"/>
		</table>
		<table name="outbound_routes">
			<field name="route_id" type="integer" primarykey="true" autoincrement="true"/>
			<field name="name" type="string" length="40" notnull="false"/>
			<field name="outcid" type="string" length="40" notnull="false"/>
			<field name="outcid_mode" type="string" length="20" notnull="false"/>
			<field name="password" type="string" length="30" notnull="false"/>
			<field name="emergency_route" type="string" length="4" notnull="false"/>
			<field name="intracompany_route" type="string" length="4" notnull="false"/>
			<field name="mohclass" type="string" length="80" notnull="false"/>
			<field name="time_group_id" type="integer" notnull="false"/>
			<field name="dest" type="string" length="255" notnull="false"/>
			<field name="time_mode" type="string" length="20" default="" notnull="false"/>
			<field name="calendar_id" type="string" length="255" notnull="false"/>
			<field name="calendar_group_id" type="string" length="255" notnull="false"/>
			<field name="timezone" type="string" length="255" notnull="false"/>
			<field name="notification_on" type="string" length="255" default="call" notnull="false"/>
		</table>
		<table name="outbound_route_email">
            <field name="route_id" type="integer" primarykey="true"/>
            <field name="emailfrom" type="string" length="320" default="" notnull="false"/>
            <field name="emailto" type="string" length="320" default="" notnull="false"/>
            <field name="emailsubject" type="text" default="" notnull="false"/>
            <field name="emailbody" type="text" default="" notnull="false"/>
        </table>
		<table name="trunk_dialpatterns">
			<field name="trunkid" type="integer" default="0" primarykey="true"/>
			<field name="match_pattern_prefix" type="string" length="50" default="" primarykey="true"/>
			<field name="match_pattern_pass" type="string" length="50" default="" primarykey="true"/>
			<field name="prepend_digits" type="string" length="50" default="" primarykey="true"/>
			<field name="seq" type="integer" default="0" primarykey="true"/>
		</table>
	</database>
	<menuitems>
		<extensions needsenginedb="yes">Extensions</extensions>
		<users needsenginedb="yes">Users</users>
		<devices needsenginedb="yes">Devices</devices>
		<did needsenginedb="yes" category="Connectivity">Inbound Routes</did>
		<dahdichandids category="Connectivity">DAHDI Channel DIDs</dahdichandids>
		<routing category="Connectivity">Outbound Routes</routing>
		<trunks needsenginedb="yes" category="Connectivity">Trunks</trunks>
		<advancedsettings category="Settings">Advanced Settings</advancedsettings>
		<ampusers category="Admin">Administrators</ampusers>
		<astmodules category="Admin">Asterisk Modules</astmodules>
		<wiki category="Admin" requires_auth="false" href="http://www.freepbx.org/support-and-professional-services" target="_blank" access="all">FreePBX Support</wiki>
	</menuitems>
	<popovers>
		<extensions>
			<display>extensions</display>
			<view>quick</view>
		</extensions>
		<users>
			<display>users</display>
			<view>add</view>
		</users>
 	</popovers>
	<methods>
		<get_config pri="480">core_do_get_config</get_config>
	</methods>
	<console>
		<command>
			<name>convert2pjsip</name>
		</command>
		<command>
			<name>trunks</name>
		</command>
	</console>
	<hooks>
		<bulkhandler namespace="FreePBX\modules" class="Bulkhandler" priority="100">
			<method namespace="FreePBX\modules" class="Core" callingMethod="getTypes">bulkhandlerGetTypes</method>
			<method namespace="FreePBX\modules" class="Core" callingMethod="getHeaders">bulkhandlerGetHeaders</method>
			<method namespace="FreePBX\modules" class="Core" callingMethod="validate">bulkhandlerValidate</method>
			<method namespace="FreePBX\modules" class="Core" callingMethod="import">bulkhandlerImport</method>
			<method namespace="FreePBX\modules" class="Core" callingMethod="export">bulkhandlerExport</method>
		</bulkhandler>
		<backup class="Backup" namespace="FreePBX\modules">
			<method callingMethod="getBackupSettingsDisplay" class="Core" namespace="FreePBX\modules">getBackupSettingsDisplay</method>
			<method callingMethod="processBackupSettings" class="Core" namespace="FreePBX\modules">processBackupSettings</method>
		</backup>
		<framework class="Config" namespace="FreePBX">
			<method callingMethod="updateSetting" class="Core" namespace="FreePBX\modules">updateFreePBXSetting</method>
			<method callingMethod="removeSetting" class="Core" namespace="FreePBX\modules">removeFreePBXSetting</method>
		</framework>
		<framework class="Start" namespace="FreePBX\Console\Command">
			<method callingMethod="postAsteriskHooks" class="Core" namespace="FreePBX\modules">startFreepbx</method>
		</framework>
		<framework class="Stop" namespace="FreePBX\Console\Command">
			<method callingMethod="preAsteriskHooks" class="Core" namespace="FreePBX\modules">stopFreepbx</method>
		</framework>
		<framework class="Reload" namespace="FreePBX">
			<method callingMethod="postReload" class="Core" namespace="FreePBX\Modules">postReloadFreepbx</method>
			<method callingMethod="preReload" class="Core" namespace="FreePBX\Modules">preReloadFreepbx</method>
		</framework>
	</hooks>
	<supported>
		<version>16.0</version>
	</supported>
</module>